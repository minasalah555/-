<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…Ø§Ø±Ø§Ø«ÙˆÙ† Ø§Ù„ØºØ¨Ù‚Ø© Ø§Ù„Ø¨Ø­Ø±ÙŠÙ†ÙŠØ© ğŸŒ™</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;900&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Cairo', sans-serif;
            background: linear-gradient(135deg, #1a0a2e 0%, #2d1854 50%, #4a1c5c 100%);
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }
        
        /* Ø®Ù„ÙÙŠØ© Ù…ØªØ­Ø±ÙƒØ© Ø¨Ø§Ù„Ù†Ø¬ÙˆÙ… */
        .stars {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }
        
        .star {
            position: absolute;
            background: white;
            border-radius: 50%;
            animation: twinkle 3s infinite;
        }
        
        @keyframes twinkle {
            0%, 100% { opacity: 0.3; transform: scale(1); }
            50% { opacity: 1; transform: scale(1.2); }
        }
        
        /* ÙÙˆØ§Ù†ÙŠØ³ Ù…ØªØ­Ø±ÙƒØ© */
        .lantern {
            position: fixed;
            font-size: 40px;
            animation: sway 4s ease-in-out infinite;
            z-index: 1;
            opacity: 0.7;
        }
        
        @keyframes sway {
            0%, 100% { transform: translateX(0) rotate(0deg); }
            50% { transform: translateX(20px) rotate(5deg); }
        }
        
        /* Container Ø±Ø¦ÙŠØ³ÙŠ */
        .container {
            position: relative;
            z-index: 10;
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
        }
        
        /* Ø´Ø§Ø´Ø© Ø§Ù„ØªØ±Ø­ÙŠØ¨ */
        .welcome-screen {
            text-align: center;
            padding: 60px 20px;
            animation: fadeIn 1s ease-in;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .logo {
            font-size: 60px;
            margin-bottom: 20px;
            animation: bounce 2s infinite;
        }
        
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }
        
        h1 {
            color: #ffd700;
            font-size: 48px;
            text-shadow: 3px 3px 6px rgba(0,0,0,0.5);
            margin-bottom: 15px;
            font-weight: 900;
        }
        
        .subtitle {
            color: #fff;
            font-size: 22px;
            margin-bottom: 40px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }
        
        /* Ø§Ù„Ø£Ø²Ø±Ø§Ø± */
        .btn {
            background: linear-gradient(135deg, #ff6b6b, #ff8e53);
            color: white;
            border: none;
            padding: 18px 50px;
            font-size: 24px;
            border-radius: 50px;
            cursor: pointer;
            font-family: 'Cairo', sans-serif;
            font-weight: 700;
            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.4);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 30px rgba(255, 107, 107, 0.6);
        }
        
        .btn:active {
            transform: translateY(0);
        }
        
        .btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }
        
        .btn:hover::before {
            width: 300px;
            height: 300px;
        }
        
        /* Ø´Ø§Ø´Ø© Ø§Ù„ØªØ³Ø¬ÙŠÙ„ */
        .registration-screen {
            background: rgba(255, 255, 255, 0.95);
            padding: 50px;
            border-radius: 30px;
            box-shadow: 0 15px 50px rgba(0,0,0,0.3);
            animation: slideIn 0.5s ease;
        }
        
        @keyframes slideIn {
            from { opacity: 0; transform: scale(0.8); }
            to { opacity: 1; transform: scale(1); }
        }
        
        .registration-screen h2 {
            color: #2d1854;
            font-size: 36px;
            margin-bottom: 40px;
            text-align: center;
        }
        
        .team-input {
            margin-bottom: 30px;
        }
        
        .team-input label {
            display: block;
            color: #4a1c5c;
            font-size: 20px;
            margin-bottom: 10px;
            font-weight: 600;
        }
        
        .team-input input {
            width: 100%;
            padding: 15px;
            font-size: 18px;
            border: 3px solid #ff8e53;
            border-radius: 15px;
            font-family: 'Cairo', sans-serif;
            transition: all 0.3s ease;
        }
        
        .team-input input:focus {
            outline: none;
            border-color: #ff6b6b;
            box-shadow: 0 0 15px rgba(255, 107, 107, 0.3);
        }
        
        /* Ø´Ø±ÙŠØ· Ø§Ù„Ù†Ù‚Ø§Ø· */
        .scoreboard {
            background: rgba(255, 255, 255, 0.95);
            padding: 20px;
            border-radius: 20px;
            margin-bottom: 30px;
            display: flex;
            justify-content: space-around;
            box-shadow: 0 8px 25px rgba(0,0,0,0.2);
            animation: slideDown 0.5s ease;
        }
        
        @keyframes slideDown {
            from { opacity: 0; transform: translateY(-30px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .team-score {
            text-align: center;
            flex: 1;
        }
        
        .team-name {
            font-size: 20px;
            color: #2d1854;
            font-weight: 700;
            margin-bottom: 10px;
        }
        
        .score {
            font-size: 48px;
            color: #ff6b6b;
            font-weight: 900;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }
        
        /* Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ø³Ø¤Ø§Ù„ */
        .question-card {
            background: rgba(255, 255, 255, 0.95);
            padding: 40px;
            border-radius: 25px;
            box-shadow: 0 15px 50px rgba(0,0,0,0.3);
            animation: popIn 0.5s ease;
            position: relative;
            overflow: hidden;
        }
        
        @keyframes popIn {
            0% { opacity: 0; transform: scale(0.5) rotate(-5deg); }
            100% { opacity: 1; transform: scale(1) rotate(0); }
        }
        
        .section-badge {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 10px 25px;
            border-radius: 20px;
            font-size: 16px;
            display: inline-block;
            margin-bottom: 20px;
            font-weight: 600;
        }
        
        .question-number {
            color: #999;
            font-size: 16px;
            margin-bottom: 10px;
        }
        
        .question-text {
            color: #2d1854;
            font-size: 28px;
            margin-bottom: 30px;
            font-weight: 700;
            line-height: 1.5;
        }
        
        /* Ø®ÙŠØ§Ø±Ø§Øª Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© */
        .options {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .option {
            background: linear-gradient(135deg, #f5f7fa, #c3cfe2);
            padding: 20px;
            border-radius: 15px;
            border: 3px solid transparent;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 20px;
            color: #2d1854;
            font-weight: 600;
            position: relative;
            overflow: hidden;
        }
        
        .option:hover {
            transform: translateX(-5px);
            border-color: #ff8e53;
            box-shadow: 0 5px 20px rgba(255, 142, 83, 0.3);
        }
        
        .option.correct {
            background: linear-gradient(135deg, #56CCF2, #2F80ED);
            color: white;
            border-color: #2F80ED;
            animation: correctPulse 0.6s ease;
        }
        
        .option.wrong {
            background: linear-gradient(135deg, #ff6b6b, #ee5a6f);
            color: white;
            border-color: #ee5a6f;
            animation: wrongShake 0.5s ease;
        }
        
        @keyframes correctPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        @keyframes wrongShake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }
        
        /* Progress Bar */
        .progress-container {
            background: rgba(255, 255, 255, 0.3);
            height: 10px;
            border-radius: 10px;
            margin-bottom: 30px;
            overflow: hidden;
        }
        
        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #ff6b6b, #ffd700);
            border-radius: 10px;
            transition: width 0.5s ease;
            box-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
        }
        
        /* Ø²Ø± Ø§Ù„ØªØ§Ù„ÙŠ */
        .next-btn {
            background: linear-gradient(135deg, #667eea, #764ba2);
            margin-top: 30px;
            width: 100%;
            padding: 18px;
            font-size: 22px;
        }
        
        /* Ø´Ø§Ø´Ø© Ø§Ù„Ù†Ù‡Ø§ÙŠØ© */
        .winner-screen {
            text-align: center;
            padding: 60px 20px;
            animation: fadeIn 1s ease;
        }
        
        .winner-screen h2 {
            color: #ffd700;
            font-size: 56px;
            margin-bottom: 30px;
            text-shadow: 3px 3px 8px rgba(0,0,0,0.5);
            animation: bounce 2s infinite;
        }
        
        .winner-name {
            color: white;
            font-size: 42px;
            margin-bottom: 20px;
            font-weight: 900;
        }
        
        .final-scores {
            background: rgba(255, 255, 255, 0.95);
            padding: 40px;
            border-radius: 25px;
            margin: 30px auto;
            max-width: 500px;
        }
        
        .final-score-item {
            display: flex;
            justify-content: space-between;
            padding: 15px;
            margin-bottom: 15px;
            background: #f5f7fa;
            border-radius: 15px;
            font-size: 24px;
            color: #2d1854;
            font-weight: 700;
        }
        
        .restart-btn {
            background: linear-gradient(135deg, #56CCF2, #2F80ED);
            margin-top: 30px;
        }
        
        /* Ù…Ø®ÙÙŠ */
        .hidden {
            display: none !important;
        }
        
        /* Ù†Øµ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø© */
        .answer-feedback {
            margin-top: 20px;
            padding: 15px;
            border-radius: 15px;
            font-size: 18px;
            text-align: center;
            font-weight: 600;
        }
        
        .answer-feedback.correct {
            background: linear-gradient(135deg, #56CCF2, #2F80ED);
            color: white;
        }
        
        .answer-feedback.wrong {
            background: linear-gradient(135deg, #ff6b6b, #ee5a6f);
            color: white;
        }
        
        /* Ø£Ø³Ø¦Ù„Ø© Ø§Ù„ØªØµÙˆÙŠØª */
        .vote-section {
            margin-top: 20px;
        }
        
        .vote-buttons {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }
        
        .vote-btn {
            flex: 1;
            padding: 15px;
            border: none;
            border-radius: 15px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Cairo', sans-serif;
        }
        
        .vote-btn.team1 {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
        }
        
        .vote-btn.team2 {
            background: linear-gradient(135deg, #ff6b6b, #ff8e53);
            color: white;
        }
        
        .vote-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.2);
        }
        
        /* Ø£Ø³Ø¦Ù„Ø© Ø§Ù„ØªÙ‚Ø¯ÙŠØ± */
        .estimate-input {
            margin-top: 20px;
        }
        
        .estimate-fields {
            display: flex;
            gap: 15px;
            margin-top: 15px;
        }
        
        .estimate-field {
            flex: 1;
        }
        
        .estimate-field label {
            display: block;
            color: #2d1854;
            font-weight: 600;
            margin-bottom: 8px;
        }
        
        .estimate-field input {
            width: 100%;
            padding: 12px;
            border: 3px solid #ff8e53;
            border-radius: 10px;
            font-size: 18px;
            font-family: 'Cairo', sans-serif;
        }
        
        .estimate-result {
            margin-top: 15px;
            padding: 15px;
            background: #f5f7fa;
            border-radius: 10px;
            color: #2d1854;
            font-weight: 600;
        }
        
        /* Timer Ù„Ù„Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„Ø³Ø±ÙŠØ¹Ø© */
        .timer {
            background: linear-gradient(135deg, #ff6b6b, #ff8e53);
            color: white;
            padding: 15px;
            border-radius: 15px;
            font-size: 28px;
            font-weight: 900;
            text-align: center;
            margin-bottom: 20px;
            box-shadow: 0 5px 20px rgba(255, 107, 107, 0.4);
        }
        
        .timer.warning {
            animation: timerPulse 0.5s infinite;
        }
        
        @keyframes timerPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            h1 { font-size: 36px; }
            .subtitle { font-size: 18px; }
            .question-text { font-size: 22px; }
            .option { font-size: 18px; }
            .btn { font-size: 20px; padding: 15px 40px; }
            .registration-screen { padding: 30px 20px; }
            .question-card { padding: 25px; }
        }
    </style>
</head>
<body>
    <!-- Ø§Ù„Ù†Ø¬ÙˆÙ… Ø§Ù„Ù…ØªØ­Ø±ÙƒØ© -->
    <div class="stars" id="starsContainer"></div>
    
    <!-- Ø§Ù„ÙÙˆØ§Ù†ÙŠØ³ -->
    <div class="lantern" style="top: 10%; right: 5%;">ğŸ®</div>
    <div class="lantern" style="top: 15%; left: 5%; animation-delay: 1s;">ğŸ®</div>
    <div class="lantern" style="top: 70%; right: 10%; animation-delay: 2s;">ğŸ®</div>
    
    <div class="container">
        <!-- Ø´Ø§Ø´Ø© Ø§Ù„ØªØ±Ø­ÙŠØ¨ -->
        <div id="welcomeScreen" class="welcome-screen">
            <div class="logo">ğŸŒ™âœ¨ğŸ®</div>
            <h1>Ù…Ø§Ø±Ø§Ø«ÙˆÙ† Ø§Ù„ØºØ¨Ù‚Ø© Ø§Ù„Ø¨Ø­Ø±ÙŠÙ†ÙŠØ©</h1>
            <p class="subtitle">Ù…Ø³Ø§Ø¨Ù‚Ø© Ø±Ù…Ø¶Ø§Ù†ÙŠØ© ØªÙØ§Ø¹Ù„ÙŠØ© Ù„Ù„Ø´Ø¨Ø§Ø¨</p>
            <button class="btn" onclick="startGame()">
                <span style="position: relative; z-index: 1;">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù„Ø¹Ø¨Ø© ğŸ¯</span>
            </button>
        </div>
        
        <!-- Ø´Ø§Ø´Ø© Ø§Ù„ØªØ³Ø¬ÙŠÙ„ -->
        <div id="registrationScreen" class="registration-screen hidden">
            <h2>ğŸ® Ø³Ø¬Ù‘Ù„ Ø§Ù„ÙØ±Ù‚</h2>
            <div class="team-input">
                <label>Ø§Ø³Ù… Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ø£ÙˆÙ„ ğŸ†</label>
                <input type="text" id="team1Name" placeholder="Ù…Ø«Ø§Ù„: ÙØ±ÙŠÙ‚ Ø§Ù„Ù†Ø¬ÙˆÙ…" maxlength="20">
            </div>
            <div class="team-input">
                <label>Ø§Ø³Ù… Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ø«Ø§Ù†ÙŠ ğŸ†</label>
                <input type="text" id="team2Name" placeholder="Ù…Ø«Ø§Ù„: ÙØ±ÙŠÙ‚ Ø§Ù„Ù‡Ù„Ø§Ù„" maxlength="20">
            </div>
            <button class="btn" onclick="registerTeams()">
                <span style="position: relative; z-index: 1;">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù…Ù†Ø§ÙØ³Ø© ğŸš€</span>
            </button>
        </div>
        
        <!-- Ø´Ø§Ø´Ø© Ø§Ù„Ù„Ø¹Ø¨ -->
        <div id="gameScreen" class="hidden">
            <!-- Progress Bar -->
            <div class="progress-container">
                <div class="progress-bar" id="progressBar"></div>
            </div>
            
            <!-- Ø´Ø±ÙŠØ· Ø§Ù„Ù†Ù‚Ø§Ø· -->
            <div class="scoreboard">
                <div class="team-score">
                    <div class="team-name" id="team1NameDisplay">Ø§Ù„ÙØ±ÙŠÙ‚ 1</div>
                    <div class="score" id="team1Score">0</div>
                </div>
                <div style="font-size: 40px; align-self: center;">âš¡</div>
                <div class="team-score">
                    <div class="team-name" id="team2NameDisplay">Ø§Ù„ÙØ±ÙŠÙ‚ 2</div>
                    <div class="score" id="team2Score">0</div>
                </div>
            </div>
            
            <!-- Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ø³Ø¤Ø§Ù„ -->
            <div class="question-card" id="questionCard">
                <div class="section-badge" id="sectionBadge">Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ø£ÙˆÙ„</div>
                <div class="question-number" id="questionNumber">Ø§Ù„Ø³Ø¤Ø§Ù„ 1 Ù…Ù† 50</div>
                <div class="question-text" id="questionText"></div>
                
                <!-- Timer Ù„Ù„Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„Ø³Ø±ÙŠØ¹Ø© -->
                <div class="timer hidden" id="timer">â±ï¸ 10</div>
                
                <!-- Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª -->
                <div class="options" id="optionsContainer"></div>
                
                <!-- Ø£Ø³Ø¦Ù„Ø© Ø§Ù„ØªØµÙˆÙŠØª -->
                <div class="vote-section hidden" id="voteSection">
                    <div class="vote-buttons">
                        <button class="vote-btn team1" onclick="voteForTeam(1)">
                            <span id="voteTeam1Name">Ø§Ù„ÙØ±ÙŠÙ‚ 1</span> ğŸ†
                        </button>
                        <button class="vote-btn team2" onclick="voteForTeam(2)">
                            <span id="voteTeam2Name">Ø§Ù„ÙØ±ÙŠÙ‚ 2</span> ğŸ†
                        </button>
                    </div>
                </div>
                
                <!-- Ø£Ø³Ø¦Ù„Ø© Ø§Ù„ØªÙ‚Ø¯ÙŠØ± -->
                <div class="estimate-input hidden" id="estimateSection">
                    <div class="estimate-fields">
                        <div class="estimate-field">
                            <label id="estimateLabel1">ØªÙ‚Ø¯ÙŠØ± Ø§Ù„ÙØ±ÙŠÙ‚ 1</label>
                            <input type="number" id="estimateTeam1" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„ØªÙ‚Ø¯ÙŠØ±">
                        </div>
                        <div class="estimate-field">
                            <label id="estimateLabel2">ØªÙ‚Ø¯ÙŠØ± Ø§Ù„ÙØ±ÙŠÙ‚ 2</label>
                            <input type="number" id="estimateTeam2" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„ØªÙ‚Ø¯ÙŠØ±">
                        </div>
                    </div>
                    <button class="btn" style="margin-top: 20px;" onclick="submitEstimate()">
                        <span style="position: relative; z-index: 1;">ØªØ£ÙƒÙŠØ¯ Ø§Ù„ØªÙ‚Ø¯ÙŠØ± âœ…</span>
                    </button>
                    <div class="estimate-result hidden" id="estimateResult"></div>
                </div>
                
                <!-- Feedback -->
                <div class="answer-feedback hidden" id="answerFeedback"></div>
                
                <!-- Ø²Ø± Ø§Ù„ØªØ§Ù„ÙŠ -->
                <button class="btn next-btn hidden" id="nextBtn" onclick="nextQuestion()">
                    <span style="position: relative; z-index: 1;">Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„ØªØ§Ù„ÙŠ â¬…ï¸</span>
                </button>
            </div>
        </div>
        
        <!-- Ø´Ø§Ø´Ø© Ø§Ù„Ù†Ù‡Ø§ÙŠØ© -->
        <div id="winnerScreen" class="winner-screen hidden">
            <h2>ğŸ‰ Ù…Ø¨Ø±ÙˆÙƒ Ù„Ù„ÙØ§Ø¦Ø² ğŸ‰</h2>
            <div class="winner-name" id="winnerName"></div>
            <div class="final-scores">
                <div class="final-score-item">
                    <span id="finalTeam1Name">Ø§Ù„ÙØ±ÙŠÙ‚ 1</span>
                    <span id="finalTeam1Score">0</span>
                </div>
                <div class="final-score-item">
                    <span id="finalTeam2Name">Ø§Ù„ÙØ±ÙŠÙ‚ 2</span>
                    <span id="finalTeam2Score">0</span>
                </div>
            </div>
            <button class="btn restart-btn" onclick="location.reload()">
                <span style="position: relative; z-index: 1;">Ø§Ø¨Ø¯Ø£ Ù„Ø¹Ø¨Ø© Ø¬Ø¯ÙŠØ¯Ø© ğŸ”„</span>
            </button>
        </div>
    </div>
    
    <script>
        // ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ù†Ø¬ÙˆÙ…
        function createStars() {
            const starsContainer = document.getElementById('starsContainer');
            for (let i = 0; i < 100; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                star.style.width = Math.random() * 3 + 'px';
                star.style.height = star.style.width;
                star.style.left = Math.random() * 100 + '%';
                star.style.top = Math.random() * 100 + '%';
                star.style.animationDelay = Math.random() * 3 + 's';
                starsContainer.appendChild(star);
            }
        }
        createStars();
        
        // Ø§Ù„Ù…Ø¤Ø«Ø±Ø§Øª Ø§Ù„ØµÙˆØªÙŠØ©
        const sounds = {
            click: () => playBeep(200, 0.1, 'sine'),
            correct: () => playBeep(600, 0.3, 'sine'),
            wrong: () => playBeep(150, 0.3, 'sawtooth'),
            win: () => {
                playBeep(400, 0.2, 'sine');
                setTimeout(() => playBeep(500, 0.2, 'sine'), 200);
                setTimeout(() => playBeep(600, 0.4, 'sine'), 400);
            }
        };
        
        function playBeep(frequency, duration, type = 'sine') {
            const audioContext = new (window.AudioContext || window.webkitAudioContext)();
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();
            
            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);
            
            oscillator.frequency.value = frequency;
            oscillator.type = type;
            
            gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + duration);
            
            oscillator.start(audioContext.currentTime);
            oscillator.stop(audioContext.currentTime + duration);
        }
        
        // Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù„Ø¹Ø¨Ø©
        let gameData = {
            team1: { name: '', score: 0 },
            team2: { name: '', score: 0 },
            currentQuestionIndex: 0,
            currentTurn: 1, // 1 = team1, 2 = team2
            timerInterval: null
        };
        
        // Ø§Ù„Ø£Ø³Ø¦Ù„Ø©
        const questions = [
            // Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ø£ÙˆÙ„: ÙƒÙ„Ù…Ø§Øª Ø¨Ø­Ø±ÙŠÙ†ÙŠØ©
            {
                section: 'Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ø£ÙˆÙ„: ÙƒÙ„Ù…Ø§Øª Ø¨Ø­Ø±ÙŠÙ†ÙŠØ© ØµØ¹Ø¨Ø©',
                type: 'mcq',
                question: 'Ø´Ù†Ùˆ Ù…Ø¹Ù†Ù‰: (ÙŠØ²Ù‚Ù‘Ø±)ØŸ',
                options: ['ÙŠØ¶Ø­Ùƒ', 'ÙŠØ²Ø¹Ù„', 'ÙŠØµØ±Ø® Ø¨ØµÙˆØª Ø¹Ø§Ù„ÙŠ'],
                correct: 2
            },
            {
                section: 'Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ø£ÙˆÙ„: ÙƒÙ„Ù…Ø§Øª Ø¨Ø­Ø±ÙŠÙ†ÙŠØ© ØµØ¹Ø¨Ø©',
                type: 'mcq',
                question: 'Ø´Ù†Ùˆ Ù…Ø¹Ù†Ù‰: (Ù…ØªÙ„Ø¹ÙˆØ²)ØŸ',
                options: ['Ù…ØªØ³Ø®', 'Ø¬ÙˆØ¹Ø§Ù†', 'Ù…Ø¹ØµØ¨'],
                correct: 0
            },
            {
                section: 'Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ø£ÙˆÙ„: ÙƒÙ„Ù…Ø§Øª Ø¨Ø­Ø±ÙŠÙ†ÙŠØ© ØµØ¹Ø¨Ø©',
                type: 'mcq',
                question: 'Ø´Ù†Ùˆ Ù…Ø¹Ù†Ù‰: (Ù…Ù‡Ù„ÙˆÙƒ)ØŸ',
                options: ['Ù…ØªØ¹Ø¨ ÙˆØ§Ø¬Ø¯', 'Ø°ÙƒÙŠ', 'Ø³Ø±ÙŠØ¹'],
                correct: 0
            },
            {
                section: 'Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ø£ÙˆÙ„: ÙƒÙ„Ù…Ø§Øª Ø¨Ø­Ø±ÙŠÙ†ÙŠØ© ØµØ¹Ø¨Ø©',
                type: 'mcq',
                question: 'Ø´Ù†Ùˆ Ù…Ø¹Ù†Ù‰: (Ù…Ù„Ù‡ÙˆÙ)ØŸ',
                options: ['Ù…ØªÙƒØ³Ø±', 'Ù…ØªØ´ÙˆÙ‚', 'Ù…Ø±ØªØ¨'],
                correct: 1
            },
            
            // Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ø«Ø§Ù†ÙŠ: ØµØ­ Ø£Ùˆ ØºÙ„Ø·
            {
                section: 'Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ø«Ø§Ù†ÙŠ: ØµØ­ Ø£Ùˆ ØºÙ„Ø· â€“ Ø£ÙƒÙ„ Ø±Ù…Ø¶Ø§Ù†ÙŠ',
                type: 'true_false',
                question: 'Ø§Ù„Ù‡Ø±ÙŠØ³ ÙƒÙ„ Ù…Ø§ Ø·ÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ù†Ø§Ø± ÙŠØ·Ù„Ø¹ Ø£Ø·ÙŠØ¨',
                correct: 0 // ØµØ­
            },
            {
                section: 'Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ø«Ø§Ù†ÙŠ: ØµØ­ Ø£Ùˆ ØºÙ„Ø· â€“ Ø£ÙƒÙ„ Ø±Ù…Ø¶Ø§Ù†ÙŠ',
                type: 'true_false',
                question: 'Ø§Ù„Ø«Ø±ÙŠØ¯ ÙŠÙ†Ø£ÙƒÙ„ Ø¨Ø¯ÙˆÙ† Ù„Ø­Ù…',
                correct: 1 // ØºÙ„Ø·
            },
            {
                section: 'Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ø«Ø§Ù†ÙŠ: ØµØ­ Ø£Ùˆ ØºÙ„Ø· â€“ Ø£ÙƒÙ„ Ø±Ù…Ø¶Ø§Ù†ÙŠ',
                type: 'true_false',
                question: 'Ø§Ù„Ù…Ø¬Ø¨ÙˆØ³ Ø§Ù„Ø¨Ø­Ø±ÙŠÙ†ÙŠ ÙŠØ®ØªÙ„Ù Ø¹Ù† Ø§Ù„ÙƒÙˆÙŠØªÙŠ',
                correct: 0
            },
            {
                section: 'Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ø«Ø§Ù†ÙŠ: ØµØ­ Ø£Ùˆ ØºÙ„Ø· â€“ Ø£ÙƒÙ„ Ø±Ù…Ø¶Ø§Ù†ÙŠ',
                type: 'true_false',
                question: 'Ø§Ù„ÙƒØ¨Ø§Ø¨ Ø§Ù„Ø¨Ø­Ø±ÙŠÙ†ÙŠ Ù„Ø§Ø²Ù… ÙŠØªÙ‚Ù„Ù‰ Ø¨Ø²ÙŠØª ØºØ²ÙŠØ±',
                correct: 1
            },
            {
                section: 'Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ø«Ø§Ù†ÙŠ: ØµØ­ Ø£Ùˆ ØºÙ„Ø· â€“ Ø£ÙƒÙ„ Ø±Ù…Ø¶Ø§Ù†ÙŠ',
                type: 'true_false',
                question: 'Ø§Ù„Ù„Ù‚ÙŠÙ…Ø§Øª ØªØªØ´Ø±Ø¨ Ø§Ù„Ø¯Ø¨Ø³ Ø£Ùˆ Ø§Ù„Ù‚Ø·Ø±',
                correct: 0
            },
            {
                section: 'Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ø«Ø§Ù†ÙŠ: ØµØ­ Ø£Ùˆ ØºÙ„Ø· â€“ Ø£ÙƒÙ„ Ø±Ù…Ø¶Ø§Ù†ÙŠ',
                type: 'true_false',
                question: 'Ø§Ù„Ø®Ù†ÙØ±ÙˆØ´ ÙŠÙ†Ø­Ø· ÙÙŠÙ‡ Ø²Ø¹ÙØ±Ø§Ù†',
                correct: 0
            },
            {
                section: 'Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ø«Ø§Ù†ÙŠ: ØµØ­ Ø£Ùˆ ØºÙ„Ø· â€“ Ø£ÙƒÙ„ Ø±Ù…Ø¶Ø§Ù†ÙŠ',
                type: 'true_false',
                question: 'Ø§Ù„Ù…Ù‡ÙŠØ§ÙˆØ© ØªÙ†Ø£ÙƒÙ„ Ø¨Ø±ÙˆØ­Ù‡Ø§ Ø¨Ø¯ÙˆÙ† Ø®Ø¨Ø²',
                correct: 1
            },
            {
                section: 'Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ø«Ø§Ù†ÙŠ: ØµØ­ Ø£Ùˆ ØºÙ„Ø· â€“ Ø£ÙƒÙ„ Ø±Ù…Ø¶Ø§Ù†ÙŠ',
                type: 'true_false',
                question: 'Ø§Ù„ØªØ´Ø±ÙŠØ¨ Ù†ÙØ³ Ø§Ù„Ø«Ø±ÙŠØ¯ Ø¨Ø§Ù„Ø¶Ø¨Ø·',
                correct: 1
            },
            
            // Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ø«Ø§Ù„Ø«: Ø£Ø³Ø¦Ù„Ø© Ø§Ø®ØªÙŠØ§Ø±
            {
                section: 'Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ø«Ø§Ù„Ø«: Ø£Ø³Ø¦Ù„Ø© Ø§Ø®ØªÙŠØ§Ø± Ù…Ù† Ù…ØªØ¹Ø¯Ø¯',
                type: 'mcq',
                question: 'Ø´Ù†Ùˆ Ø£ÙˆÙ„ Ø´ÙŠ ÙŠÙ†Ø£ÙƒÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ø³ÙØ±Ø©ØŸ',
                options: ['Ø§Ù„Ø¹ÙŠØ´', 'Ø§Ù„ØªÙ…Ø±', 'Ø§Ù„Ø­Ù„Ø§'],
                correct: 1
            },
            {
                section: 'Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ø«Ø§Ù„Ø«: Ø£Ø³Ø¦Ù„Ø© Ø§Ø®ØªÙŠØ§Ø± Ù…Ù† Ù…ØªØ¹Ø¯Ø¯',
                type: 'mcq',
                question: 'Ø£ÙØ¶Ù„ ÙˆÙ‚Øª Ù„Ù„Ù‚Ù‡ÙˆØ©ØŸ',
                options: ['Ù‚Ø¨Ù„ Ø§Ù„ÙØ·ÙˆØ±', 'Ø¨Ø¹Ø¯ Ø§Ù„ÙØ·ÙˆØ± Ø£Ùˆ Ø§Ù„ØªØ±Ø§ÙˆÙŠØ­', 'Ø§Ù„Ø³Ø­ÙˆØ±'],
                correct: 1
            },
            {
                section: 'Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ø«Ø§Ù„Ø«: Ø£Ø³Ø¦Ù„Ø© Ø§Ø®ØªÙŠØ§Ø± Ù…Ù† Ù…ØªØ¹Ø¯Ø¯',
                type: 'mcq',
                question: 'Ø¥Ø°Ø§ ÙˆØ§Ø­Ø¯ Ø´Ø¨Ø¹ Ø²ÙŠØ§Ø¯Ø©ØŸ',
                options: ['ÙŠÙƒÙ…Ù„ Ø£ÙƒÙ„', 'ÙŠÙˆÙ‚Ù ÙˆÙŠØ®ÙÙ', 'ÙŠÙ†Ø§Ù… ÙÙˆØ±Ù‹Ø§'],
                correct: 1
            },
            {
                section: 'Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ø«Ø§Ù„Ø«: Ø£Ø³Ø¦Ù„Ø© Ø§Ø®ØªÙŠØ§Ø± Ù…Ù† Ù…ØªØ¹Ø¯Ø¯',
                type: 'mcq',
                question: 'Ø´Ù†Ùˆ Ø£ÙƒØ«Ø± Ø´ÙŠ ÙŠØ®Ù„Ù‘ÙŠ Ø§Ù„ØµÙŠØ§Ù… Ø«Ù‚ÙŠÙ„ØŸ',
                options: ['Ø§Ù„Ø³Ù‡Ø±', 'Ø§Ù„Ø£ÙƒÙ„ Ø§Ù„Ø«Ù‚ÙŠÙ„ Ø¨Ø§Ù„Ù„ÙŠÙ„', 'Ø§Ù„Ø´ÙˆØ±Ø¨Ø©'],
                correct: 1
            },
            
            // Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ø±Ø§Ø¨Ø¹: Ù…Ù†Ùˆ Ø£ÙƒØ«Ø±
            {
                section: 'Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ø±Ø§Ø¨Ø¹: "Ù…Ù†Ùˆ Ø£ÙƒØ«Ø±ØŸ" â€“ ØªØµÙˆÙŠØª',
                type: 'vote',
                question: 'Ù…Ù†Ùˆ Ø£ÙƒØ«Ø± ÙŠØªØ£Ø®Ø± Ø¹Ù† Ø§Ù„ÙØ·ÙˆØ±ØŸ'
            },
            {
                section: 'Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ø±Ø§Ø¨Ø¹: "Ù…Ù†Ùˆ Ø£ÙƒØ«Ø±ØŸ" â€“ ØªØµÙˆÙŠØª',
                type: 'vote',
                question: 'Ù…Ù†Ùˆ Ø£ÙƒØ«Ø± ÙŠÙ‚ÙˆÙ„ Â«Ø®Ù„Ø§Øµ Ø´Ø¨Ø¹ØªÂ»ØŸ'
            },
            {
                section: 'Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ø±Ø§Ø¨Ø¹: "Ù…Ù†Ùˆ Ø£ÙƒØ«Ø±ØŸ" â€“ ØªØµÙˆÙŠØª',
                type: 'vote',
                question: 'Ù…Ù†Ùˆ Ø£ÙƒØ«Ø± ÙŠØ­Ø¨ Ø§Ù„ØºØ¨Ù‚Ø§ØªØŸ'
            },
            {
                section: 'Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ø±Ø§Ø¨Ø¹: "Ù…Ù†Ùˆ Ø£ÙƒØ«Ø±ØŸ" â€“ ØªØµÙˆÙŠØª',
                type: 'vote',
                question: 'Ù…Ù†Ùˆ Ø£ÙƒØ«Ø± Ù…Ø§ ÙŠÙ‚Ø¯Ø± Ø¨Ø¯ÙˆÙ† Ù‚Ù‡ÙˆØ©ØŸ'
            },
            {
                section: 'Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ø±Ø§Ø¨Ø¹: "Ù…Ù†Ùˆ Ø£ÙƒØ«Ø±ØŸ" â€“ ØªØµÙˆÙŠØª',
                type: 'vote',
                question: 'Ù…Ù†Ùˆ Ø£ÙƒØ«Ø± ÙŠÙ†Ø§Ù… Ø¨Ø¹Ø¯ Ø§Ù„ØªØ±Ø§ÙˆÙŠØ­ØŸ'
            },
            {
                section: 'Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ø±Ø§Ø¨Ø¹: "Ù…Ù†Ùˆ Ø£ÙƒØ«Ø±ØŸ" â€“ ØªØµÙˆÙŠØª',
                type: 'vote',
                question: 'Ù…Ù†Ùˆ Ø£ÙƒØ«Ø± ÙŠØ­Ø¨ Ø§Ù„Ø­Ù„ÙˆÙŠØ§Øª Ø¨Ø±Ù…Ø¶Ø§Ù†ØŸ'
            },
            
            // Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ø®Ø§Ù…Ø³: ÙˆØ´ Ø§Ù„Ø£Ù‚Ø±Ø¨
            {
                section: 'Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ø®Ø§Ù…Ø³: ÙˆØ´ Ø§Ù„Ø£Ù‚Ø±Ø¨ØŸ (ØªÙ‚Ø¯ÙŠØ±)',
                type: 'estimate',
                question: 'ÙƒÙ… Ø¯Ù‚ÙŠÙ‚Ø© Ø¨ÙŠÙ† Ø§Ù„Ø£Ø°Ø§Ù† ÙˆØ§Ù„Ø¥Ù‚Ø§Ù…Ø©ØŸ',
                correctAnswer: 15
            },
            {
                section: 'Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ø®Ø§Ù…Ø³: ÙˆØ´ Ø§Ù„Ø£Ù‚Ø±Ø¨ØŸ (ØªÙ‚Ø¯ÙŠØ±)',
                type: 'estimate',
                question: 'ÙƒÙ… Ù†ÙˆØ¹ Ø£ÙƒÙ„ Ø¹Ø§Ø¯Ø© ÙŠÙƒÙˆÙ† Ø¹Ù„Ù‰ Ø§Ù„Ø³ÙØ±Ø©ØŸ',
                correctAnswer: 7
            },
            {
                section: 'Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ø®Ø§Ù…Ø³: ÙˆØ´ Ø§Ù„Ø£Ù‚Ø±Ø¨ØŸ (ØªÙ‚Ø¯ÙŠØ±)',
                type: 'estimate',
                question: 'ÙƒÙ… Ø´Ø®Øµ ÙŠØ­Ø¶Ø± Ø§Ù„ØºØ¨Ù‚Ø©ØŸ',
                correctAnswer: 20
            },
            {
                section: 'Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ø®Ø§Ù…Ø³: ÙˆØ´ Ø§Ù„Ø£Ù‚Ø±Ø¨ØŸ (ØªÙ‚Ø¯ÙŠØ±)',
                type: 'estimate',
                question: 'ÙƒÙ… ÙƒÙˆØ¨ Ù‚Ù‡ÙˆØ© ÙŠØ´Ø±Ø¨ Ø¨Ø§Ù„ØºØ¨Ù‚Ø©ØŸ',
                correctAnswer: 3
            },
            
            // Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ø³Ø§Ø¯Ø³: ÙÙˆØ§Ø²ÙŠØ±
            {
                section: 'Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ø³Ø§Ø¯Ø³: ÙÙˆØ§Ø²ÙŠØ± Ø±Ù…Ø¶Ø§Ù†ÙŠØ©',
                type: 'mcq',
                question: 'Ø´ÙŠ ÙƒÙ„ Ù…Ø§ ÙƒØ¨Ø± ØµØºØ±ØŸ',
                options: ['Ø§Ù„Ø¹Ù…Ø±', 'Ø§Ù„Ø´Ù…Ø¹Ø©', 'Ø§Ù„Ø¨Ø§Ù„ÙˆÙ†'],
                correct: 0
            },
            {
                section: 'Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ø³Ø§Ø¯Ø³: ÙÙˆØ§Ø²ÙŠØ± Ø±Ù…Ø¶Ø§Ù†ÙŠØ©',
                type: 'mcq',
                question: 'Ø´ÙŠ ØªØ´ÙˆÙÙ‡ ÙˆÙ…Ø§ ØªÙ‚Ø¯Ø± ØªÙ…Ø³ÙƒÙ‡ØŸ',
                options: ['Ø§Ù„Ù†Ø§Ø±', 'Ø§Ù„Ø¸Ù„', 'Ø§Ù„Ø¶ÙˆØ¡'],
                correct: 1
            },
            {
                section: 'Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ø³Ø§Ø¯Ø³: ÙÙˆØ§Ø²ÙŠØ± Ø±Ù…Ø¶Ø§Ù†ÙŠØ©',
                type: 'mcq',
                question: 'Ø´ÙŠ ÙŠÙØ·Ø± Ø§Ù„ØµØ§ÙŠÙ… Ø¨Ø¯ÙˆÙ† Ø£ÙƒÙ„ØŸ',
                options: ['Ø§Ù„Ù…Ø§Ø¡', 'Ø§Ù„Ø¯Ø¹Ø§Ø¡', 'Ø§Ù„Ù†ÙˆÙ…'],
                correct: 1
            },
            {
                section: 'Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ø³Ø§Ø¯Ø³: ÙÙˆØ§Ø²ÙŠØ± Ø±Ù…Ø¶Ø§Ù†ÙŠØ©',
                type: 'mcq',
                question: 'Ø´Ù‡Ø± ÙŠÙ…Ø± Ø¨Ø³Ø±Ø¹Ø© Ø¨Ø³ Ù†Ø´ØªØ§Ù‚ Ù„Ù‡ØŸ',
                options: ['Ø±Ù…Ø¶Ø§Ù†', 'Ø´Ø¹Ø¨Ø§Ù†', 'Ø°Ùˆ Ø§Ù„Ø­Ø¬Ø©'],
                correct: 0
            },
            
            // Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ø³Ø§Ø¨Ø¹: Ø¨Ø·Ø§Ù‚Ø§Øª Ø³Ø±ÙŠØ¹Ø©
            {
                section: 'Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ø³Ø§Ø¨Ø¹: Ø¨Ø·Ø§Ù‚Ø§Øª Ø³Ø±ÙŠØ¹Ø© (10 Ø«ÙˆØ§Ù†ÙŠ)',
                type: 'speed',
                question: 'Ø³Ù…Ù‘ÙŠ 5 Ø£ÙƒÙ„Ø§Øª Ø±Ù…Ø¶Ø§Ù†ÙŠØ©',
                time: 10
            },
            {
                section: 'Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ø³Ø§Ø¨Ø¹: Ø¨Ø·Ø§Ù‚Ø§Øª Ø³Ø±ÙŠØ¹Ø© (10 Ø«ÙˆØ§Ù†ÙŠ)',
                type: 'speed',
                question: 'Ù‚ÙˆÙ„ 4 ÙƒÙ„Ù…Ø§Øª Ø¨Ø­Ø±ÙŠÙ†ÙŠØ© ØµØ¹Ø¨Ø©',
                time: 10
            },
            {
                section: 'Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ø³Ø§Ø¨Ø¹: Ø¨Ø·Ø§Ù‚Ø§Øª Ø³Ø±ÙŠØ¹Ø©',
                type: 'speed',
                question: 'Ø§Ø°ÙƒØ± Ù¥ Ø¹Ø¨Ø§Ø¯Ø§Øª ÙÙŠ Ø´Ù‡Ø± Ø±Ù…Ø¶Ø§Ù† Ø®Ù„Ø§Ù„ Ù¡Ù  Ø«ÙˆØ§Ù†',
                time: 10
            },
            {
                section: 'Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ø³Ø§Ø¨Ø¹: Ø¨Ø·Ø§Ù‚Ø§Øª Ø³Ø±ÙŠØ¹Ø© (10 Ø«ÙˆØ§Ù†ÙŠ)',
                type: 'speed',
                question: 'ØºØ¨Ù‚Ø© Ø¹ÙˆØ§ÙŠÙ„ Ø£Ùˆ Ø±Ø¨Ø¹ØŸ ÙˆÙ„ÙŠØ´ØŸ',
                time: 10
            },
            {
                section: 'Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ø³Ø§Ø¨Ø¹: Ø¨Ø·Ø§Ù‚Ø§Øª Ø³Ø±ÙŠØ¹Ø© (10 Ø«ÙˆØ§Ù†ÙŠ)',
                type: 'speed',
                question: 'Ø³Ù…Ù‘ÙŠ Ø¹Ø§Ø¯Ø© Ø±Ù…Ø¶Ø§Ù†ÙŠØ© Ø¨Ø­Ø±ÙŠÙ†ÙŠØ©',
                time: 10
            },
            {
                section: 'Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ø³Ø§Ø¨Ø¹: Ø¨Ø·Ø§Ù‚Ø§Øª Ø³Ø±ÙŠØ¹Ø© (10 Ø«ÙˆØ§Ù†ÙŠ)',
                type: 'speed',
                question: 'Ø³Ù…Ù‘ÙŠ Ø£ÙƒÙ„Ø© Ù…Ø§ ØªØ­Ø¨Ù‡Ø§ Ø¨Ø±Ù…Ø¶Ø§Ù†',
                time: 10
            }
        ];
        
        // Ø¨Ø¯Ø§ÙŠØ© Ø§Ù„Ù„Ø¹Ø¨Ø©
        function startGame() {
            sounds.click();
            document.getElementById('welcomeScreen').classList.add('hidden');
            document.getElementById('registrationScreen').classList.remove('hidden');
        }
        
        // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„ÙØ±Ù‚
        function registerTeams() {
            const team1Name = document.getElementById('team1Name').value.trim();
            const team2Name = document.getElementById('team2Name').value.trim();
            
            if (!team1Name || !team2Name) {
                alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… Ø§Ù„ÙØ±ÙŠÙ‚ÙŠÙ†!');
                return;
            }
            
            gameData.team1.name = team1Name;
            gameData.team2.name = team2Name;
            
            document.getElementById('team1NameDisplay').textContent = team1Name;
            document.getElementById('team2NameDisplay').textContent = team2Name;
            document.getElementById('voteTeam1Name').textContent = team1Name;
            document.getElementById('voteTeam2Name').textContent = team2Name;
            document.getElementById('estimateLabel1').textContent = `ØªÙ‚Ø¯ÙŠØ± ${team1Name}`;
            document.getElementById('estimateLabel2').textContent = `ØªÙ‚Ø¯ÙŠØ± ${team2Name}`;
            
            sounds.click();
            document.getElementById('registrationScreen').classList.add('hidden');
            document.getElementById('gameScreen').classList.remove('hidden');
            
            showQuestion();
        }
        
        // Ø¹Ø±Ø¶ Ø§Ù„Ø³Ø¤Ø§Ù„
        function showQuestion() {
            const q = questions[gameData.currentQuestionIndex];
            const total = questions.length;
            
            // ØªØ­Ø¯ÙŠØ« Progress Bar
            const progress = ((gameData.currentQuestionIndex + 1) / total) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            
            // ØªØ­Ø¯ÙŠØ« Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø³Ø¤Ø§Ù„
            document.getElementById('sectionBadge').textContent = q.section;
            document.getElementById('questionNumber').textContent = `Ø§Ù„Ø³Ø¤Ø§Ù„ ${gameData.currentQuestionIndex + 1} Ù…Ù† ${total}`;
            document.getElementById('questionText').textContent = q.question;
            
            // Ø¥Ø®ÙØ§Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù‚Ø³Ø§Ù…
            document.getElementById('optionsContainer').innerHTML = '';
            document.getElementById('voteSection').classList.add('hidden');
            document.getElementById('estimateSection').classList.add('hidden');
            document.getElementById('timer').classList.add('hidden');
            document.getElementById('answerFeedback').classList.add('hidden');
            document.getElementById('nextBtn').classList.add('hidden');
            
            // Ø¹Ø±Ø¶ Ø­Ø³Ø¨ Ø§Ù„Ù†ÙˆØ¹
            if (q.type === 'mcq' || q.type === 'true_false') {
                showMCQ(q);
            } else if (q.type === 'vote') {
                showVote(q);
            } else if (q.type === 'estimate') {
                showEstimate(q);
            } else if (q.type === 'speed') {
                showSpeed(q);
            }
        }
        
        // Ø¹Ø±Ø¶ Ø§Ø®ØªÙŠØ§Ø± Ù…Ù† Ù…ØªØ¹Ø¯Ø¯
        function showMCQ(q) {
            const container = document.getElementById('optionsContainer');
            const options = q.type === 'true_false' ? ['ØµØ­ âœ…', 'ØºÙ„Ø· âŒ'] : q.options;
            
            options.forEach((option, index) => {
                const div = document.createElement('div');
                div.className = 'option';
                div.textContent = option;
                div.onclick = () => selectAnswer(index, q.correct);
                container.appendChild(div);
            });
        }
        
        // Ø§Ø®ØªÙŠØ§Ø± Ø¥Ø¬Ø§Ø¨Ø©
        function selectAnswer(selected, correct) {
            const options = document.querySelectorAll('.option');
            options.forEach(opt => opt.style.pointerEvents = 'none');
            
            if (selected === correct) {
                options[selected].classList.add('correct');
                sounds.correct();
                
                // Ø¥Ø¶Ø§ÙØ© Ù†Ù‚Ø·Ø© Ù„Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ø­Ø§Ù„ÙŠ
                if (gameData.currentTurn === 1) {
                    gameData.team1.score++;
                    document.getElementById('team1Score').textContent = gameData.team1.score;
                } else {
                    gameData.team2.score++;
                    document.getElementById('team2Score').textContent = gameData.team2.score;
                }
                
                showFeedback('Ø¥Ø¬Ø§Ø¨Ø© ØµØ­ÙŠØ­Ø©! ğŸ‰', 'correct');
            } else {
                options[selected].classList.add('wrong');
                options[correct].classList.add('correct');
                sounds.wrong();
                showFeedback('Ø¥Ø¬Ø§Ø¨Ø© Ø®Ø§Ø·Ø¦Ø©! âŒ', 'wrong');
            }
            
            // ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„Ø¯ÙˆØ±
            gameData.currentTurn = gameData.currentTurn === 1 ? 2 : 1;
            
            document.getElementById('nextBtn').classList.remove('hidden');
        }
        
        // Ø¹Ø±Ø¶ Ø§Ù„ØªØµÙˆÙŠØª
        function showVote(q) {
            document.getElementById('voteSection').classList.remove('hidden');
        }
        
        function voteForTeam(team) {
            sounds.click();
            if (team === 1) {
                gameData.team1.score++;
                document.getElementById('team1Score').textContent = gameData.team1.score;
            } else {
                gameData.team2.score++;
                document.getElementById('team2Score').textContent = gameData.team2.score;
            }
            
            showFeedback(`ØªÙ… Ù…Ù†Ø­ Ù†Ù‚Ø·Ø© Ù„Ù€ ${team === 1 ? gameData.team1.name : gameData.team2.name} ğŸ†`, 'correct');
            document.getElementById('voteSection').classList.add('hidden');
            document.getElementById('nextBtn').classList.remove('hidden');
        }
        
        // Ø¹Ø±Ø¶ Ø§Ù„ØªÙ‚Ø¯ÙŠØ±
        function showEstimate(q) {
            document.getElementById('estimateSection').classList.remove('hidden');
            document.getElementById('estimateTeam1').value = '';
            document.getElementById('estimateTeam2').value = '';
            document.getElementById('estimateResult').classList.add('hidden');
        }
        
        function submitEstimate() {
            const q = questions[gameData.currentQuestionIndex];
            const est1 = parseInt(document.getElementById('estimateTeam1').value);
            const est2 = parseInt(document.getElementById('estimateTeam2').value);
            
            if (isNaN(est1) || isNaN(est2)) {
                alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ ØªÙ‚Ø¯ÙŠØ±Ø§Øª ØµØ­ÙŠØ­Ø©!');
                return;
            }
            
            sounds.click();
            
            const diff1 = Math.abs(est1 - q.correctAnswer);
            const diff2 = Math.abs(est2 - q.correctAnswer);
            
            let result = '';
            if (diff1 < diff2) {
                gameData.team1.score++;
                document.getElementById('team1Score').textContent = gameData.team1.score;
                result = `${gameData.team1.name} Ø£Ù‚Ø±Ø¨! Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©: ${q.correctAnswer}`;
            } else if (diff2 < diff1) {
                gameData.team2.score++;
                document.getElementById('team2Score').textContent = gameData.team2.score;
                result = `${gameData.team2.name} Ø£Ù‚Ø±Ø¨! Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©: ${q.correctAnswer}`;
            } else {
                gameData.team1.score++;
                gameData.team2.score++;
                document.getElementById('team1Score').textContent = gameData.team1.score;
                document.getElementById('team2Score').textContent = gameData.team2.score;
                result = `ØªØ¹Ø§Ø¯Ù„! Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©: ${q.correctAnswer}`;
            }
            
            document.getElementById('estimateResult').textContent = result;
            document.getElementById('estimateResult').classList.remove('hidden');
            document.getElementById('nextBtn').classList.remove('hidden');
        }
        
        // Ø¹Ø±Ø¶ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„Ø³Ø±ÙŠØ¹Ø©
        function showSpeed(q) {
            const timerEl = document.getElementById('timer');
            timerEl.classList.remove('hidden');
            
            let timeLeft = q.time;
            timerEl.textContent = `â±ï¸ ${timeLeft}`;
            
            gameData.timerInterval = setInterval(() => {
                timeLeft--;
                timerEl.textContent = `â±ï¸ ${timeLeft}`;
                
                if (timeLeft <= 3) {
                    timerEl.classList.add('warning');
                    sounds.click();
                }
                
                if (timeLeft <= 0) {
                    clearInterval(gameData.timerInterval);
                    timerEl.classList.remove('warning');
                    showFeedback('Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„ÙˆÙ‚Øª! â°', 'wrong');
                    document.getElementById('nextBtn').classList.remove('hidden');
                }
            }, 1000);
            
            // Ø²Ø± Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©
            const container = document.getElementById('optionsContainer');
            const btn = document.createElement('button');
            btn.className = 'btn';
            btn.innerHTML = '<span style="position: relative; z-index: 1;">ØªÙ… Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© âœ…</span>';
            btn.onclick = () => {
                clearInterval(gameData.timerInterval);
                sounds.correct();
                
                // Ø¥Ø¶Ø§ÙØ© Ù†Ù‚Ø·Ø© Ù„Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ø­Ø§Ù„ÙŠ
                if (gameData.currentTurn === 1) {
                    gameData.team1.score++;
                    document.getElementById('team1Score').textContent = gameData.team1.score;
                } else {
                    gameData.team2.score++;
                    document.getElementById('team2Score').textContent = gameData.team2.score;
                }
                
                gameData.currentTurn = gameData.currentTurn === 1 ? 2 : 1;
                
                showFeedback('ØªÙ… Ø§Ø­ØªØ³Ø§Ø¨ Ø§Ù„Ù†Ù‚Ø·Ø©! ğŸ¯', 'correct');
                btn.disabled = true;
                document.getElementById('nextBtn').classList.remove('hidden');
            };
            container.appendChild(btn);
        }
        
        // Ø¹Ø±Ø¶ Feedback
        function showFeedback(message, type) {
            const feedback = document.getElementById('answerFeedback');
            feedback.textContent = message;
            feedback.className = `answer-feedback ${type}`;
            feedback.classList.remove('hidden');
        }
        
        // Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„ØªØ§Ù„ÙŠ
        function nextQuestion() {
            sounds.click();
            gameData.currentQuestionIndex++;
            
            if (gameData.currentQuestionIndex >= questions.length) {
                showWinner();
            } else {
                showQuestion();
            }
        }
        
        // Ø¹Ø±Ø¶ Ø§Ù„ÙØ§Ø¦Ø²
        function showWinner() {
            sounds.win();
            
            document.getElementById('gameScreen').classList.add('hidden');
            document.getElementById('winnerScreen').classList.remove('hidden');
            
            const winner = gameData.team1.score > gameData.team2.score ? gameData.team1.name :
                          gameData.team2.score > gameData.team1.score ? gameData.team2.name :
                          'ØªØ¹Ø§Ø¯Ù„! ğŸ¤';
            
            document.getElementById('winnerName').textContent = winner;
            document.getElementById('finalTeam1Name').textContent = gameData.team1.name;
            document.getElementById('finalTeam1Score').textContent = gameData.team1.score;
            document.getElementById('finalTeam2Name').textContent = gameData.team2.name;
            document.getElementById('finalTeam2Score').textContent = gameData.team2.score;
        }
    </script>
</body>
</html>